 ****  Sukuriame duomenų bazę ir lenteles su duomenimis:


create schema dienynas;

drop table stores;
create table stores (`id` INT AUTO_INCREMENT NOT NULL, 
`name` varchar(100) NOT NULL, 
`address` varchar(200) NOT NULL, 
PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=`UTF8MB4` AUTO_INCREMENT=1 ;


drop table products;
create table products ( 
             id INT AUTO_INCREMENT NOT NULL, 
             name varchar(100), 
             description text,
              PRIMARY KEY (`id`)
            ) ENGINE=InnoDB DEFAULT CHARSET=`UTF8MB4` AUTO_INCREMENT=1;
						
    
drop table products_in_stores;                         
CREATE TABLE products_in_stores (
product_id INT NOT NULL REFERENCES products,
store_id INT NOT NULL  REFERENCES stores,
price DECIMAL(10,2) NOT NULL,
quantity INT NOT NULL,
 FOREIGN KEY(product_id) REFERENCES products(id),
 FOREIGN KEY(store_id) REFERENCES stores(id),
PRIMARY KEY (product_id, store_id)
);

SET FOREIGN_KEY_CHECKS=0;


INSERT INTO stores(name, address) VALUES('Maxima','Balbieriškis'),('Rimi','Ariogala'),('Iki','Babtai'),('Aibė','Grikiškės'),('Senukai','Garliava'); 
INSERT INTO products(name, description) VALUES ('Duona',NULL),('Pienas','Ekologiškas pienas'),('Sūris',NULL),('Varškė',NULL),('Alus',NULL),('Vanduo',NULL),('Dešra',NULL),('Skilandis',NULL),('Salotos',NULL);   
INSERT INTO products_in_stores(product_id, store_id, price, quantity) VALUES (1, 2, 2.50, 2),(2, 2, 2.00, 5),(1, 3, 1.50, 4),(2, 3, 0.50, 3),(3, 3, 3.50, 1),(1, 4, 1.50, 2),(2, 4, 2.50, 2),(3, 4, 3.50, 1),(4, 4, 5.50, 1),(5, 4, 4.50, 1),(6, 4, 6.50, 1),(6, 5, 5.50, 2),(7, 5, 3.50, 4);
